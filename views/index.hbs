        
        <link rel="stylesheet" href="/stylesheets/index.css">
        

        <header>
            <h1>Welcome to Anilog!</h1>
            <h2>Keep track of the anime you watch and find new content.</h2>
            {{!-- <div class="description">
                <p>Are you having a hard time keeping track of all the shows you watch? Can't remember all the animes you want to check every new season? Want to find something like the shows you love, but can't get new recommendations?</p>
                <p>Join our platform</p>
            </div> --}}

        </header>

        <section class="search">
            <form action="/" method="GET" class="ui form">                
                <div class="params">
                    <div class="primary fields">
                        <div class="title field">
                            <label for="search">Search</label>
                            <input type="name" name="search" id="search" {{#if query.search}} value="{{query.search}}"{{/if}} class="ui fluid search clearable selection dropdown">
                        </div>
                        <div class="genres field">
                            <label for="genres">Genres</label>
                            <select name="genre_in" id="genres" class="ui clearable search selection dropdown" multiple="">
                                <option value="">Any</option>
                                <option value="action" {{#if query.action}} selected {{/if}}>Action</option>
                                <option value="adventure"{{#if query.adventure}} selected {{/if}}>Adventure</option>
                                <option value="comedy"{{#if query.comedy}} selected {{/if}}>Comedy</option>
                                <option value="drama"{{#if query.drama}} selected {{/if}}>Drama</option>
                                <option value="ecchi"{{#if query.ecchi}} selected {{/if}}>Ecchi</option>
                                <option value="fantasy"{{#if query.fantasy}} selected {{/if}}>Fantasy</option>
                                <option value="mahou shoujo"{{#if query.[mahou shoujo]}} selected {{/if}}>Mahou shoujo</option>
                                <option value="mecha"{{#if query.mecha}} selected {{/if}}>Mecha</option>
                                <option value="music"{{#if query.music}} selected {{/if}}>Music</option>
                                <option value="mytery"{{#if query.mytery}} selected {{/if}}>Mistery</option>
                                <option value="psychological" {{#if query.psychological}} selected {{/if}}>Psychological</option>
                                <option value="sci-fi"{{#if query.sci-fi}} selected {{/if}}>Sci-fi</option>
                                <option value="slice of life"{{#if query.[slice of life]}} selected {{/if}}>Slice of Life</option>
                                <option value="sports"{{#if query.sports}} selected {{/if}}>Sports</option>
                                <option value="supernatural"{{#if query.supernatural}} selected {{/if}}>Supernatural</option>
                                <option value="thriller"{{#if query.thriller}} selected {{/if}}>Thriller</option>
                            </select>
                        </div>

                        <div class="year field">
                            <label for="year">Year</label>
                            <select name="seasonYear" id="year" class="ui clearable search selection dropdown">
                                <option value="">Any</option>
                                <option value="2022" {{#if query.[2022]}} selected {{/if}}>2022</option>
                                <option value="2021" {{#if query.[2021]}} selected {{/if}}>2021</option>
                                <option value="2020" {{#if query.[2020]}} selected {{/if}}>2020</option>
                                <option value="2019" {{#if query.[2019]}} selected {{/if}}>2019</option>
                                <option value="2018" {{#if query.[2018]}} selected {{/if}}>2018</option>
                                <option value="2017" {{#if query.[2017]}} selected {{/if}}>2017</option>
                                <option value="2016" {{#if query.[2016]}} selected {{/if}}>2016</option>
                                <option value="2015" {{#if query.[2015]}} selected {{/if}}>2015</option>
                                <option value="2014" {{#if query.[2014]}} selected {{/if}}>2014</option>
                                <option value="2013" {{#if query.[2013]}} selected {{/if}}>2013</option>
                                <option value="2012" {{#if query.[2012]}} selected {{/if}}>2012</option>
                                <option value="2011" {{#if query.[2011]}} selected {{/if}}>2011</option>
                                <option value="2010" {{#if query.[2010]}} selected {{/if}}>2010</option>
                                <option value="2009" {{#if query.[2009]}} selected {{/if}}>2009</option>
                                <option value="2008" {{#if query.[2008]}} selected {{/if}}>2008</option>
                                <option value="2007" {{#if query.[2007]}} selected {{/if}}>2007</option>
                                <option value="2006" {{#if query.[2006]}} selected {{/if}}>2006</option>
                                <option value="2005" {{#if query.[2005]}} selected {{/if}}>2005</option>
                                <option value="2004" {{#if query.[2004]}} selected {{/if}}>2004</option>
                                <option value="2003" {{#if query.[2003]}} selected {{/if}}>2003</option>
                                <option value="2002" {{#if query.[2002]}} selected {{/if}}>2002</option>
                                <option value="2001" {{#if query.[2001]}} selected {{/if}}>2001</option>
                                <option value="2000" {{#if query.[2000]}} selected {{/if}}>2000</option>
                                <option value="1999" {{#if query.[1999]}} selected {{/if}}>1999</option>
                                <option value="1998" {{#if query.[1998]}} selected {{/if}}>1998</option>
                                <option value="1997" {{#if query.[1997]}} selected {{/if}}>1997</option>
                                <option value="1996" {{#if query.[1996]}} selected {{/if}}>1996</option>
                                <option value="1995" {{#if query.[1995]}} selected {{/if}}>1995</option>
                                <option value="1994" {{#if query.[1994]}} selected {{/if}}>1994</option>
                                <option value="1993" {{#if query.[1993]}} selected {{/if}}>1993</option>
                                <option value="1992" {{#if query.[1992]}} selected {{/if}}>1992</option>
                                <option value="1991" {{#if query.[1991]}} selected {{/if}}>1991</option>
                                <option value="1990" {{#if query.[1990]}} selected {{/if}}>1990</option>
                                <option value="1989" {{#if query.[1989]}} selected {{/if}}>1989</option>
                                <option value="1988" {{#if query.[1988]}} selected {{/if}}>1988</option>
                                <option value="1987" {{#if query.[1987]}} selected {{/if}}>1987</option>
                                <option value="1986" {{#if query.[1986]}} selected {{/if}}>1986</option>
                                <option value="1985" {{#if query.[1985]}} selected {{/if}}>1985</option>
                                <option value="1984" {{#if query.[1984]}} selected {{/if}}>1984</option>
                                <option value="1983" {{#if query.[1983]}} selected {{/if}}>1983</option>
                                <option value="1982" {{#if query.[1982]}} selected {{/if}}>1982</option>
                                <option value="1981" {{#if query.[1981]}} selected {{/if}}>1981</option>
                                <option value="1980" {{#if query.[1980]}} selected {{/if}}>1980</option>
                                <option value="1979" {{#if query.[1979]}} selected {{/if}}>1979</option>
                                <option value="1978" {{#if query.[1978]}} selected {{/if}}>1978</option>
                                <option value="1977" {{#if query.[1977]}} selected {{/if}}>1977</option>
                                <option value="1976" {{#if query.[1976]}} selected {{/if}}>1976</option>
                                <option value="1975" {{#if query.[1975]}} selected {{/if}}>1975</option>
                                <option value="1974" {{#if query.[1974]}} selected {{/if}}>1974</option>
                                <option value="1973" {{#if query.[1973]}} selected {{/if}}>1973</option>
                                <option value="1972" {{#if query.[1972]}} selected {{/if}}>1972</option>
                                <option value="1971" {{#if query.[1971]}} selected {{/if}}>1971</option>
                                <option value="1970" {{#if query.[1970]}} selected {{/if}}>1970</option>
                                <option value="1969" {{#if query.[1969]}} selected {{/if}}>1969</option>
                                <option value="1968" {{#if query.[1968]}} selected {{/if}}>1968</option>
                                <option value="1967" {{#if query.[1967]}} selected {{/if}}>1967</option>
                                <option value="1966" {{#if query.[1966]}} selected {{/if}}>1966</option>
                                <option value="1965" {{#if query.[1965]}} selected {{/if}}>1965</option>
                                <option value="1964" {{#if query.[1964]}} selected {{/if}}>1964</option>
                                <option value="1963" {{#if query.[1963]}} selected {{/if}}>1963</option>
                                <option value="1962" {{#if query.[1962]}} selected {{/if}}>1962</option>
                                <option value="1961" {{#if query.[1961]}} selected {{/if}}>1961</option>
                                <option value="1960" {{#if query.[1960]}} selected {{/if}}>1960</option>
                                <option value="1959" {{#if query.[1959]}} selected {{/if}}>1959</option>
                                <option value="1958" {{#if query.[1958]}} selected {{/if}}>1958</option>
                                <option value="1957" {{#if query.[1957]}} selected {{/if}}>1957</option>
                                <option value="1956" {{#if query.[1956]}} selected {{/if}}>1956</option>
                                <option value="1955" {{#if query.[1955]}} selected {{/if}}>1955</option>
                                <option value="1954" {{#if query.[1954]}} selected {{/if}}>1954</option>
                                <option value="1953" {{#if query.[1953]}} selected {{/if}}>1953</option>
                                <option value="1952" {{#if query.[1952]}} selected {{/if}}>1952</option>
                                <option value="1951" {{#if query.[1951]}} selected {{/if}}>1951</option>
                                <option value="1950" {{#if query.[1950]}} selected {{/if}}>1950</option>
                                <option value="1949" {{#if query.[1949]}} selected {{/if}}>1949</option>
                                <option value="1948" {{#if query.[1948]}} selected {{/if}}>1948</option>
                                <option value="1947" {{#if query.[1947]}} selected {{/if}}>1947</option>
                                <option value="1946" {{#if query.[1946]}} selected {{/if}}>1946</option>
                                <option value="1945" {{#if query.[1945]}} selected {{/if}}>1945</option>
                                <option value="1944" {{#if query.[1944]}} selected {{/if}}>1944</option>
                                <option value="1943" {{#if query.[1943]}} selected {{/if}}>1943</option>
                                <option value="1942" {{#if query.[1942]}} selected {{/if}}>1942</option>
                                <option value="1941" {{#if query.[1941]}} selected {{/if}}>1941</option>
                                <option value="1940" {{#if query.[1940]}} selected {{/if}}>1940</option>'                      
                                
                            </select>
                        </div>

                        <div class="season field">
                            <label for="season">Season</label>
                            <select name="season" id="season" class="ui clearable search selection dropdown">
                                <option value="">Any</option>
                                <option value="winter" {{#if query.winter}} selected {{/if}}>Winter</option>
                                <option value="spring" {{#if query.spring}} selected {{/if}}>Spring</option>
                                <option value="summer" {{#if query.summer}} selected {{/if}}>Summer</option>
                                <option value="fall" {{#if query.fall}} selected {{/if}}>Fall</option>
                            </select>
                        </div>

                        <div class="status field">
                            <label for="status">Status</label>
                            <select name="status" id="status" class="ui clearable search selection dropdown">
                                <option value="">Any</option>
                                <option value="releasing" {{#if query.releasing}} selected {{/if}}>Airing</option>
                                <option value="finished" {{#if query.finished}} selected {{/if}}>Finished</option>
                                <option value="not_yet_released" {{#if query.not_yet_released}} selected {{/if}}>To be released</option>
                                <option value="cancelled" {{#if query.cancelled}} selected {{/if}}>Cancelled</option>
                            </select>
                        </div>

                        <div class="format field">
                            <label for="format">Format</label>
                            <select name="format" id="format" class="ui clearable search selection dropdown">
                                <option value="">Any</option>
                                <option value="tv" {{#if query.tv}} selected {{/if}}>TV Show</option>
                                <option value="tv_short" {{#if query.tv_shor}} selected {{/if}}>TV Short</option>
                                <option value="movie" {{#if query.movie}} selected {{/if}}>Movie</option>
                                <option value="special" {{#if query.special}} selected {{/if}}>Special</option>
                                <option value="ova" {{#if query.ova}} selected {{/if}}>Ova</option>
                                <option value="ona" {{#if query.ona}} selected {{/if}}>Ona</option>
                                <option value="music" {{#if query.music}} selected {{/if}}>music</option>
                            </select>
                        </div>
                    </div>

                    <div class="secondary fields">
                        {{!-- <button id="clear-btn" class="red medium ui button">Clear</button> --}}
                    
                        <div class="sort">
                            <label for="sort">Sort by</label>
                            <select name="sort" id="sort" class="ui search selection dropdown">
                                <option value="popularity_desc" selected>Most popular</option>
                                <option value="score_desc" {{#if query.score_desc}} selected {{/if}}>Best average score</option>
                                <option value="title_english" {{#if query.title_english}} selected {{/if}}>English title</option>
                                <option value="title_romaji" {{#if query.title_romaji}} selected {{/if}}>Japanese title</option>
                                <option value="start_date" {{#if query.start_date}} selected {{/if}}>Most recent</option>
                                <option value="episodes" {{#if query.episodes}} selected {{/if}}>Number of episodes</option>
                            </select>
                        </div>

                        <div class="perPage">
                            <label for="perPage">Per page</label>
                            <input type="number" name="perPage" id="perPage" {{#if query.perPage}} value={{query.perPage}} {{else}} value="30"{{/if}} >
                        </div>

                        <div class="page">
                            <input class="hidden" type="number" name="page" id="page" {{#if query.page}} value={{query.page}} {{else}} value="1"{{/if}}>
                        </div>

                        <button id="searc-btn" class="blue medium ui button">Search</button>
                    </div>
                    </div>

                <div class="pagination fields">
                    
                    <button id="previous" {{#if pageInfo.hasPreviousPage}} class="ui teal medium left labeled icon button" {{else}} class="ui teal medium left labeled icon button invisible" {{/if}} >
                        <i class="left arrow icon"></i>
                        Previous
                    </button>
                
                    <h3>Page <span>{{pageInfo.currentPage}}</span> of <span>{{pageInfo.lastPage}}</span></h3>

                    <button id="next" {{#if pageInfo.hasNextPage}} class="medium ui teal right labeled icon button" {{else}} class="medium ui teal right labeled icon button invisible" {{/if}}>
                        Next
                        <i class="right arrow icon"></i>
                    </button>
                </div>
            </form>
        </section>

        <section id="search-results">
            {{#if animes }}
                <div class="animes ui stackable center aligned grid container">
                    {{#each animes}}
                        <div class="ui three wide column">
                            <a class="ui fluid centered card" href="/anime?id={{this.externalId}}">
                                <div class="image">
                                    <img src="{{this.coverImage.extraLarge}}">    
                                </div>  
                                <div class="content">
                                    {{#if this.title.english}}
                                        {{this.title.english}}
                                    {{else}}
                                        {{this.title.romaji}}
                                    {{/if}}
                                    
                                    {{!-- <div class="meta">
                                    <a>Last Seen 2 days ago</a>
                                    </div> --}}
                                </div>
                                
                            </a>
                        </div>

                        {{!-- <div class="anime-card">
                            <div>
                                <img src="{{this.coverImage.medium}}" alt="">
                            </div>
                            <h3><a href="/anime?id={{this.externalId}}">{{this.title.romaji }}</a></h3>
                        </div> --}}
                    {{/each}}

                </div>
                
            {{else}}
            
            <h3 class="no-results">No results</h3>

            {{/if}}
        </section>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.js"></script>
    <script src="/scripts/main.js"></script>